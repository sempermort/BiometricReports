<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summary Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <h1 class="text-center mb-4">Summary Report</h1>
                
                <div class="card">
                    <div class="card-header">
                        <h3>Department-wise Attendance Summary</h3>
                    </div>
                    <div class="card-body">
                        <p>This report summarizes attendance data by department, including:</p>
                        <ul>
                            <li>Total employee count per department</li>
                            <li>Present employees per department</li>
                            <li>Absent employees per department</li>
                            <li>Employees on leave per department</li>
                        </ul>
                        
                        <div class="mt-4">
                            <h4>How to Generate This Report</h4>
                            <p>To generate this report, you need to:</p>
                            <ol>
                                <li>Upload the Employee database file (CSV format)</li>
                                <li>Upload the First & Last report (CSV format)</li>
                                <li>Upload the Leave Report (CSV format)</li>
                                <li>Click "Process Files" on the main page</li>
                            </ol>
                        </div>
                        
                        <div class="mt-4">
                            <h4>Report Details</h4>
                            <p>The summary report provides an overview of attendance by department. It processes data from three sources:</p>
                            <ul>
                                <li><strong>Employee Database:</strong> Contains all employee information</li>
                                <li><strong>First & Last Report:</strong> Shows employees who checked in/out</li>
                                <li><strong>Leave Report:</strong> Shows employees who were on leave</li>
                            </ul>
                            <p>The system calculates the difference between total employees and those who checked in/out or were on leave to determine absences.</p>
                        </div>
                        
                        <div class="mt-4">
                            <a href="{{ url_for('download_file', filename='summary_report.xlsx') }}" class="btn btn-primary">Download Summary Report</a>
                        </div>
                    </div>
                </div>
                
                <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-4">
                    <a href="/" class="btn btn-secondary btn-lg">Process Files</a>
                    <a href="/results" class="btn btn-outline-primary btn-lg">View All Reports</a>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>